Minikermit creates a child process. the parent process reads pc-keypad and sends the char via serial line to the development board. The child receives a char from serial line and display it in the pc terminal.<br>
The terminal works with the ncurses library and allows control sequences for terminal control (position, color, ....).<br>
The synchronization between pc and the microcontroller development board is a hairy problem. Serial drivers buffer 2 to 5 bytes. When the pc sends a data stream to the development board, when it know the board has received and processed the data?<br>
Because of strict disjunction of memory space from parent and child process, child sends a signal (SIGUSR1) to the parent when it receives any byte from the development board. This signal can be used by the parent to recognize that the development board has processed the incoming datastream (i.e. for flashing the program) and is ready for new data. You can not simple read the serial line in parent process because that is the job of child! <br>
The child send the signal SIGHUP to the parent when it receives form development board the control byte  TOGGLEECHOMODE (0x03). (Feel free to change the control bytes (<0x20) in the source if you need this bytes for console control.